{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <a href="{% url 'main:edit_question' question.id %}" class="btn btn-info float-right">Edit <i class="fas fa-edit"></i></a>
        <a href="{{question.link}}" class="btn btn-primary float-right mr-2" target="_blank">Goto Link</a>
        <h1>{{question.title}}</h1>
        <strong class="bg-{{question.difficulty|lower}}">{{question.difficulty}}</strong>
        <hr>
        {% if question.link %}
        {% endif %}
        <p>
            {{ question.description }}
        </p>
        {% if question.tag.all %}
            <strong> Related Tags: </strong>
            {% for tag_name in question.tag.all %}
                <a href="#" class="badge badge-dark">{{tag_name.name}}</a>
            {% endfor %}
        {% endif %}
        <h2>Examples</h2>
        <pre>{{ question.examples }} </pre>
        <!-- Cards collapse using bootstrap -->
        <!-- <button class="btn btn-primary float-right"><i class="fa fa-plus"></i> Add solution</button> -->
        <h2>Solutions</h2>
        <div id="accordion">
            {% for solution in solutions %}
                <div class="card mt-4">
                    <div class="card-header" id="headingOne" data-toggle="collapse" data-target="#solution{{forloop.counter}}" aria-expanded="false" aria-controls="collapseOne">
                        <h5 class="mb-0">{{solution.title}} </h5>
                    </div>
                    <div id="solution{{forloop.counter}}" class="solution-section collapse" aria-labelledby="headingOne" data-parent="#accordion">
                        <div class="card-body">
                            {% if solution.link %}
                                <a href="{{solution.link}}" class="btn btn-primary float-right">Goto Solution Link</a>
                            {% endif %}
                            <p>{{solution.notes}}</p>
                            <div class="row">
                                <select name="theme" class="theme-select custom-select col-sm-3 ml-2 mr-2 mb-3">
                                    <option value="chrome">Chrome</option>
                                    <option value="solarized_light">Solarized Light</option>
                                    <option value="monokai" selected>Monokai</option>
                                    <option value="tomorrow_night_eighties">Tomorrow Night</option>
                                    <option value="solarized_dark">Solarized Dark</option>
                                </select>
                                <select name="language" class="lang-select form-control col-sm-3 ml-auto mr-2 mb-3" value="{{solution.language}}">
                                    <option value="python">python</option>
                                    <option value="c_cpp">C/C++</option>
                                    <option value="javascript" selected>JavaScript</option>
                                    <option value="java">Java</option>
                                    <option value="csharp">C#</option>
                                </select>
                                <span class="input-group col-sm-2 mr-2 mb-3">
                                    <input type="text" class="size-select form-control" placeholder="font-size: 18">
                                    <div class="input-group-append"><a class="input-group-text fa fa-arrow-right"></a> </div>
                                </span>
                            </div>
                            <div class="parent col-xs-12">
                                <div class="editor">{{solution.program}}</div>
                            </div>
                            <button class="btn btn-primary">Save code</button>
                        </div>
                    </div> 
                </div>  <!-- Solution card -->
            {% endfor %}


            <div class="card mt-4">
                <div class="card-header" id="headingOne" data-toggle="collapse" data-target="#addsolution" aria-expanded="false" aria-controls="collapseOne">
                    <h5 class="mb-0">Add Solution</h5>
                </div>
                <div id="addsolution" class="solution-section collapse" aria-labelledby="headingOne" data-parent="#accordion">
                    <div class="card-body">
                        <div class="container-fluid">
                            <form class="edit-solution" action="" method="post">
                                {%  csrf_token %}
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-2 col-form-label" for="solution-title">Solution title</label>
                                        <input name="soln-title" id="solution-title" type="text" class="form-control col-md-10" placeholder="Solution n">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-2 col-form-label" for="solution-notes">Solution link</label>
                                        <input name="link" id="solution-title" type="url" class="form-control col-md-10">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-2 col-form-label" for="solution-notes">Solution notes</label>
                                        <textarea name="soln-desc" id="solution-notes" rows="10" cols="40" class="form-control col-md-10"></textarea>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <select name="theme" class="theme-select custom-select col-sm-3 ml-2 mr-2 mb-3">
                                        <option value="chrome">Chrome</option>
                                        <option value="solarized_light">Solarized Light</option>
                                        <option value="monokai" selected>Monokai</option>
                                        <option value="tomorrow_night_eighties">Tomorrow Night</option>
                                        <option value="solarized_dark">Solarized Dark</option>
                                    </select>
                                    <select name="language" class="lang-select form-control col-sm-3 ml-auto mr-2 mb-3">
                                        <option value="python" selected>python</option>
                                        <option value="c_cpp">C/C++</option>
                                        <option value="javascript" selected>JavaScript</option>
                                        <option value="java">Java</option>
                                        <option value="csharp">C#</option>
                                    </select>
                                    <span class="input-group col-sm-2 mr-2 mb-3">
                                        <input type="text" class="size-select form-control" placeholder="font-size: 18">
                                        <div class="input-group-append"><a class="input-group-text fa fa-arrow-right"></a> </div>
                                    </span>
                                </div>
                                <div class="parent col-xs-12">
                                    <div class="editor"></div>
                                </div>
                                <input class="ace_control" type="hidden" name="code">
                                <button type="submit" class="submit-solution btn btn-primary">Save solution</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>  <!-- Solution card -->

        </div>  <!-- Accordian -->
    </div>
{% endblock %}